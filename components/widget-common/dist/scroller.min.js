var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Scroller=function(e){"use strict";function t(){n(),a(),y.width=C,n(),a()}function n(){C=0;for(var e=0;e<x.length;e++)x[e].separator?i(x[e]):o(x[e])}function i(e){var t=y.height/2,n=e.size/2;w.save(),w.fillStyle=e.color,w.beginPath(),w.arc(C+n,t,n,0,2*Math.PI),w.fill(),C+=e.size+10,w.restore()}function o(e){var t,n={};e&&(n.text=E.unescapeHTML(e.text),e.fontStyle&&(t=e.fontStyle,t.font&&t.font.family&&(n.font=t.font.family),t.size&&(n.size=t.size),t.forecolor&&(n.foreColor=t.forecolor),t.bold&&(n.bold=t.bold),t.italic&&(n.italic=t.italic)),l(n))}function l(e){var t="";w.save(),e.bold&&(t="bold "),e.italic&&(t+="italic "),e.size&&(t+=e.size+" "),e.font&&(t+=e.font),w.font=t,w.fillStyle=e.foreColor,w.textBaseline="middle",w.translate(0,y.height/2),w.fillText(e.text,C,0),C+=w.measureText(e.text).width+10,w.restore()}function s(){b.clearRect(0,0,v.width,v.height),b.drawImage(y,b.xpos,0)}function a(){var e=0,t=0;if(z=C,x.length>0)for(;e<v.width;)x[t].separator?i(x[t]):o(x[t]),e=C-z,t=t===x.length-1?0:t+1}function r(){var t;if(e.transition&&e.transition.speed)switch(e.transition.speed){case"slow":t=100;break;case"medium":t=150;break;case"fast":t=200;break;default:t=150}return z/t}function c(){g=null,b.xpos=0,v.dispatchEvent(new CustomEvent("done",{bubbles:!0}))}function f(){y=document.createElement("canvas"),y.id="secondary",y.style.display="none",w=u(y),document.body.appendChild(y)}function u(t){var n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.xpos=0,n}function d(e){x=e,v=document.getElementById("scroller"),b=u(v),f(),t(),TweenLite.ticker.addEventListener("tick",s),v.dispatchEvent(new CustomEvent("ready",{bubbles:!0}))}function h(e){x=e,t()}function m(){g||(g=TweenLite.to(b,r(),{xpos:-z,ease:Linear.easeNone,onComplete:c})),g.play()}function p(){g&&g.pause()}var v=null,b=null,y=null,w=null,g=null,x=[],C=0,z=0,E=RiseVision.Common.Utilities;return{init:d,play:m,pause:p,refresh:h}};