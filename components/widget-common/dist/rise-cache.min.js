var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function n(n){var e=new XMLHttpRequest;n&&"function"==typeof n&&(e.open("GET",i+"ping?callback=_",!0),e.onreadystatechange=function(){try{4===e.readyState&&(o=!0,200===e.status?(s=!0,n(!0,e.responseText)):(console.debug("Rise Cache is not running"),s=!1,n(!1,null)))}catch(t){console.debug("Caught exception: ",t.description)}},e.send())}function e(n,e,t){function c(){var e,o,c;s?e=t?i+"?url="+encodeURIComponent(n):i+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(n):t?e=n:(o=n.split("?"),c=1===o.length?"?":"&",e=n+c+"cb="+(new Date).getTime()),u("HEAD",e)}function u(n,t){var i=new XMLHttpRequest,o={xhr:i,url:t};s?(i.open(n,t,!0),i.addEventListener("loadend",function(){var s=i.status||0;s>=200&&300>s?e(o):"HEAD"===n?u("GET",t):e(o,new Error("The request failed with status code: "+s))}),i.send()):e(o)}if(n&&e&&"function"==typeof e)return o?c():this.ping(c)}function t(n){return n&&"function"==typeof n?o?(n(s),void 0):this.ping(function(){n(s)}):void 0}var i="//localhost:9494/",o=!1,s=!1;return{getFile:e,isRiseCacheRunning:t,ping:n}}();