var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest;e&&"function"==typeof e&&(n.open("GET",t+"ping?callback=_",!0),n.onreadystatechange=function(){try{4===n.readyState&&(i=!0,200===n.status?(o=!0,e(!0,n.responseText)):(console.debug("Rise Cache is not running"),o=!1,e(!1,null)))}catch(t){console.debug("Caught exception: ",t.description)}},n.send())}function n(e,n,s){function c(n){var i,o,c;n?i=s?t+"?url="+encodeURIComponent(e):t+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):s?i=e:(o=e.split("?"),c=1===o.length?"?":"&",i=e+c+"cb="+(new Date).getTime()),a("HEAD",i)}function a(e,t){var i=new XMLHttpRequest,s={xhr:i,url:t};i.open(e,t,!0),i.addEventListener("loadend",function(){var c=i.status||0;c>=200&&300>c?n(s):"HEAD"===e?a("GET",t):o?n(s,new Error("The request failed with status code: "+c)):n(s)}),i.send()}if(e&&n&&"function"==typeof n)return i?c(o):this.ping(c)}var t="//localhost:9494/",i=!1,o=!1;return{getFile:n,ping:e}}();