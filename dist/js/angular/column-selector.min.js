!function(){"use strict";angular.module("risevision.widget.common.column-selector",["risevision.widget.common.column-setting","risevision.common.i18n"]).directive("columnSelector",["$templateCache",function(n){return{restrict:"E",require:"?ngModel",scope:{columns:"=",columnNames:"=",disabled:"=ngDisabled"},template:n.get("_angular/column-selector/column-selector.html"),transclude:!1,link:function(n,o,l,e){function c(n,o){for(var l=0;l<n.length;l++)if(n[l].id===o){n.splice(l,1);break}}function s(){e&&e.$setValidity("required",n.columns.length)}function m(){for(var o=0;o<n.columns.length;o++)for(var l=0;l<n.columnNames.length;l++)n.columns[o].id===n.columnNames[l].id&&(n.columns[o].name=n.columnNames[l].name,n.columnNames[l].show=!0)}var t=n.$watch("columns",function(){n.columns&&n.columnNames&&(m(),s(),t())}),u=n.$watch("columnNames",function(o){n.columns&&o&&o.length>0&&(m(),u())});n.show=function(n){return!n.show},n.addColumn=function(){n.add(n.selectedColumn),n.selectedColumn=null},n.add=function(o){o.show=!0,n.columns.push(o),s()},n.remove=function(o){if(o){c(n.columns,o.id);for(var l=0;l<n.columnNames.length;l++)if(o.id===n.columnNames[l].id){n.columnNames[l].show=!1;break}s()}}}}}])}(),function(n){try{n=angular.module("risevision.widget.common.column-selector")}catch(o){n=angular.module("risevision.widget.common.column-selector",[])}n.run(["$templateCache",function(n){"use strict";n.put("_angular/column-selector/column-selector.html",'<div class="section">\n	<div class="row">\n		<div class="col-md-12">\n			<div class="form-group">\n				<label for="columns" class="control-label">{{\'column.select-title\' | translate}}</label>\n				<select class="column-selector form-control" ng-model="selectedColumn"\n				ng-options="column.name | translate for column in columnNames | filter:show track by column.id"\n				ng-change="addColumn()" ng-disabled="disabled"></select>\n			</div>\n		</div>\n	</div>\n	<div class="row">\n		<div class="col-md-12">\n			<div class="panel-group">\n				<column-setting column="column" ng-repeat="column in columns"></column-setting>\n			</div>\n	</div>\n</div>\n')}])}();