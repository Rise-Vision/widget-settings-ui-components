!function(){"use strict";angular.module("risevision.widget.common.background-image-setting",["risevision.common.i18n","colorpicker.module","risevision.widget.common.url-field","risevision.widget.common.position-setting","risevision.widget.common.background-image"]).directive("backgroundImageSetting",["$templateCache","$log",function(n){return{restrict:"E",scope:{background:"=",companyId:"@"},template:n.get("_angular/background-image-setting/background-image-setting.html"),link:function(n){n.defaultSetting={color:"rgba(255,255,255,0)",useImage:!1,image:{url:"",position:"top-left",scale:!0}},n.defaults=function(n){if(n)for(var e=1,i=arguments.length;i>e;e++){var o=arguments[e];for(var a in o)void 0===n[a]&&(n[a]=o[a])}return n},n.imageLoaded=!1,n.imageUrl="",n.$watch("background",function(e){n.defaults(e,n.defaultSetting)}),n.$watch("background.image.url",function(e,i){""!==e&&"undefined"==typeof i&&(n.imageUrl=e)}),n.$on("backgroundImageLoad",function(e,i){n.$apply(function(){n.imageLoaded=i})}),n.$on("urlFieldBlur",function(){n.imageUrl=n.background.image.url})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.background-image",[]).directive("backgroundImage",["$log",function(){return{restrict:"A",link:function(n,e){e.bind("load",function(){n.$emit("backgroundImageLoad",!0)}),e.bind("error",function(){n.$emit("backgroundImageLoad",!1)})}}}])}(),function(){try{app=angular.module("risevision.widget.common.background-image-setting")}catch(n){app=angular.module("risevision.widget.common.background-image-setting",[])}app.run(["$templateCache",function(n){"use strict";n.put("_angular/background-image-setting/background-image-setting.html",'<!-- Color -->\n<div class="row">\n  <div class="col-md-3">\n      <div class="input-group">\n        <input class="form-control" colorpicker="rgba" colorpicker-parent="true" background-setting type="text" ng-model="background.color">\n        <span class="input-group-addon color-wheel"></span>\n      </div>\n  </div>\n</div>\n<!-- Image Choice -->\n<div class="checkbox">\n  <label>\n    <input name="choice" type="checkbox" ng-model="background.useImage"> {{"background.choice" | translate}}\n  </label>\n</div>\n<div id="backgroundImageControls" ng-if="background.useImage">\n  <!-- Image Placeholder -->\n  <div class="form-group">\n    <div ng-if="!imageLoaded" class="image-placeholder">\n      <i class="fa fa-image"></i>\n    </div>\n    <!-- Image -->\n    <div ng-show="imageLoaded" class="row">\n      <div class="col-xs-5 col-sm-3 col-md-2">\n        <img ng-src="{{imageUrl}}" background-image class="img-rounded img-responsive">\n      </div>\n    </div>\n  </div>\n  <!-- Image URL -->\n  <url-field id="backgroundImageUrl" url="background.image.url"\n             file-type="image"\n             hide-label="true"\n             company-id="{{companyId}}"\n             ng-model="urlentry" valid></url-field>\n  <!-- Position -->\n  <position-setting position="background.image.position" hide-label="true"></position-setting>\n  <!-- Scale to fit -->\n  <div class="checkbox">\n    <label>\n      <input name="scale" type="checkbox" ng-model="background.image.scale"> {{"background.image.scale" | translate}}\n    </label>\n  </div>\n</div>\n\n')}])}();