!function(){"use strict";angular.module("risevision.widget.common.background-image-setting",["risevision.common.i18n","colorpicker.module","risevision.widget.common.file-selector","risevision.widget.common.position-setting","risevision.widget.common.background-image"]).directive("backgroundImageSetting",["$templateCache","$log",function(n){return{restrict:"E",scope:{background:"=",companyId:"@",colorParentContainerClass:"=",colorContainerClass:"=",positionParentContainerClass:"=",positionContainerClass:"="},template:n.get("_angular/background-image-setting/background-image-setting.html"),link:function(n){n.defaultSetting={useImage:!1,image:{selector:{},position:"top-left",scale:!0}},n.defaults=function(n){if(n)for(var e=1,i=arguments.length;i>e;e++){var o=arguments[e];for(var a in o)void 0===n[a]&&(n[a]=o[a])}return n},n.imageLoaded=!1,n.imageUrl="",n.$watch("background",function(e){n.defaults(e,n.defaultSetting)}),n.$watch("background.image.selector.url",function(e){n.imageUrl!==e&&(n.imageUrl=e)}),n.$on("backgroundImageLoad",function(e,i){n.$apply(function(){n.imageLoaded=i})}),n.$on("urlFieldBlur",function(){n.imageUrl=n.background.image.selector.url})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.background-image",[]).directive("backgroundImage",["$log",function(){return{restrict:"A",link:function(n,e){e.bind("load",function(){n.$emit("backgroundImageLoad",!0)}),e.bind("error",function(){n.$emit("backgroundImageLoad",!1)})}}}])}(),function(n){try{n=angular.module("risevision.widget.common.background-image-setting")}catch(e){n=angular.module("risevision.widget.common.background-image-setting",[])}n.run(["$templateCache",function(n){"use strict";n.put("_angular/background-image-setting/background-image-setting.html",'<!-- Color -->\n<div class="{{colorParentContainerClass || \'row\'}}">\n  <div class="{{colorContainerClass || \'col-md-3\'}}" style="position:relative;">\n    <div class="input-group" colorpicker="rgba" colorpicker-parent="true" ng-model="background.color">\n      <input class="form-control" type="text" ng-model="background.color">\n      <span class="input-group-addon color-wheel"></span>\n    </div>\n  </div>\n</div>\n<!-- Image Choice -->\n<div class="checkbox">\n  <label>\n    <input name="choice" type="checkbox" ng-model="background.useImage"> {{"background.choice" | translate}}\n  </label>\n</div>\n<div id="backgroundImageControls" ng-if="background.useImage">\n  <!-- Image Placeholder -->\n  <div class="form-group">\n    <div ng-if="!imageLoaded" class="image-placeholder">\n      <i class="fa fa-image"></i>\n    </div>\n    <!-- Image -->\n    <div ng-show="imageLoaded" class="row">\n      <div class="col-xs-4">\n        <img ng-src="{{imageUrl}}" background-image class="img-rounded img-responsive">\n      </div>\n    </div>\n  </div>\n  <!-- File Selector -->\n  <file-selector id="backgroundFileSelector" name="backgroundFileSelector"\n                 company-id="{{companyId}}"\n                 title="{{\'background.image.selector.title\' | translate}}"\n                 file-label="{{\'background.image.selector.file\' | translate}}"\n                 file-type="image"\n                 selector="background.image.selector"\n                 ng-model="backgroundfileselector" selector-valid valid></file-selector>\n  <!-- Position -->\n  <position-setting parent-container-class="positionParentContainerClass" container-class="positionContainerClass" position="background.image.position" hide-label="true"></position-setting>\n  <!-- Scale to fit -->\n  <div class="checkbox">\n    <label>\n      <input name="scale" type="checkbox" ng-model="background.image.scale"> {{"background.image.scale" | translate}}\n    </label>\n  </div>\n</div>\n')}])}();